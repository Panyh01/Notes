# [HTML](./index.md) | 03 canvasæ ‡ç­¾<!-- omit in toc -->

ğŸŒ¸Author [**Echo Pan**](https://github.com/echopan)

- [ç®€ä»‹](#ç®€ä»‹)
- [åº”ç”¨é¢†åŸŸ](#åº”ç”¨é¢†åŸŸ)
- [æ ¼å¼](#æ ¼å¼)
- [æ¸²æŸ“ä¸Šä¸‹æ–‡ï¼ˆThe rendring contextï¼‰](#æ¸²æŸ“ä¸Šä¸‹æ–‡the-rendring-context)
- [ç»˜åˆ¶æ¨¡æ¿](#ç»˜åˆ¶æ¨¡æ¿)
- [ç”¨æ³•](#ç”¨æ³•)
  - [ç»˜åˆ¶çŸ©å½¢](#ç»˜åˆ¶çŸ©å½¢)
  - [ç»˜åˆ¶è·¯å¾„](#ç»˜åˆ¶è·¯å¾„)
    - [beginPath()](#beginpath)
    - [closePath()](#closepath)
    - [`stroke()`](#stroke)
    - [`fill()`](#fill)
    - [`moveTo(x,y)`](#movetoxy)
    - [`lineTo(x,y)`](#linetoxy)
  - [ç»˜åˆ¶ä¸‰è§’å½¢](#ç»˜åˆ¶ä¸‰è§’å½¢)
  - [åœ†å¼§](#åœ†å¼§)

***

## âœ¨Echoæœ‰è¯è¯´<!-- omit in toc -->

[_Canvasæ•™ç¨‹_](https://developer.mozilla.org/zh-CN/docs/Web/API/Canvas_API/Tutorial)

å¤‡å¿˜ï¼š`proto`

## ç®€ä»‹

`canvas`æ˜¯`HTML5`æä¾›çš„ç”¨äºå±•ç¤ºç»˜å›¾æ•ˆæœçš„æ ‡ç­¾ã€‚

`canvas`æ˜¯ä¸€ä¸ªçŸ©å½¢ç”»å¸ƒï¼Œå¯ä»¥ç”¨`JS`ç»˜å›¾ï¼Œå®ƒæœ¬èº«æ²¡æœ‰ç”»å›¾åŠŸèƒ½ã€‚

## åº”ç”¨é¢†åŸŸ

- **æ¸¸æˆ**
- **æ•°æ®å¯è§†åŒ–**  
  åŒ…æ‹¬ç™¾åº¦çš„`Echarts`ã€`d3.js`ã€`three.js`ã€`higncharts`
- **banner å¹¿å‘Š**ï¼ˆæ¨ªå¹…å¹¿å‘Šï¼‰
- **æ¨¡æ‹Ÿå™¨ï¼Œå›¾å½¢ç¼–è¾‘å™¨**

## æ ¼å¼

`canvas`é»˜è®¤å¤§å°ä¸º 300px * 150pxï¼Œå¯ä»¥è‡ªå®šä¹‰å¤§å°ï¼š

```html
<canvas width="600" height="400"></canvas>
```

æ³¨æ„ï¼Œ`canvas`å¯ä»¥ç”¨CSSæ¥å®šä¹‰å¤§å°ï¼ŒåŒºåˆ«æ˜¯htmlä¸­è®¾ç½®çš„æ˜¯ç”»å¸ƒï¼Œè€Œcssä¸­è®¾ç½®çš„æ˜¯æ¡†æ¶ï¼Œç»˜å›¾æ—¶å›¾ç‰‡ä¼šä¼¸ç¼©æ¥é€‚åº”è¯¥æ¡†æ¶å¤§å°ã€‚è€Œä¸”å½“csså°ºå¯¸æ¯”ä¾‹å’Œç”»å¸ƒä¸ä¸€æ ·æ—¶ï¼Œå›¾åƒå°±ä¼šæ‰­æ›²æ‹‰ä¼¸ã€‚

## æ¸²æŸ“ä¸Šä¸‹æ–‡ï¼ˆThe rendring contextï¼‰

`<canvas>`èµ·åˆæ˜¯ç©ºç™½çš„ï¼Œå®ƒå…¬å¼€äº†ä¸€ä¸ªæˆ–å¤šä¸ªæ¸²æŸ“ä¸Šä¸‹æ–‡ç”¨æ¥ç»˜åˆ¶å’Œå¤„ç†å±•ç¤ºçš„å†…å®¹ï¼Œæˆ‘ä»¬çš„æ•™å­¦åŸºäº2Dæ¸²æŸ“ä¸Šä¸‹æ–‡ï¼Œå…¶ä»–å½“ç„¶è¿˜æœ‰`WebGL`ä½¿ç”¨äº†åŸºäº`OpenGL ES`çš„3Dä¸Šä¸‹æ–‡ã€‚

è„šæœ¬è¦å…ˆæ‰¾åˆ°ä¸Šä¸‹æ–‡æ‰èƒ½ç»˜åˆ¶ï¼Œ`canvas`æä¾›ä¸€ä¸ª`getContext()`æ–¹æ³•ï¼Œç”¨æ¥è·å–æ¸²æŸ“ä¸Šä¸‹æ–‡å’Œç»˜å›¾åŠŸèƒ½ã€‚`getContext()`å¯ä»¥æ¥å—ä¸€ä¸ªå‚æ•°ï¼Œå³ä¸Šä¸‹æ–‡ç±»å‹ã€‚å¯¹äº2Då›¾åƒè€Œè¨€ï¼Œå¯ä»¥ä½¿ç”¨`CanvasRenderingContext2D`æ¥å£ï¼Œè·å–æ–¹æ³•ï¼š

```js
var canvas = document.getElementById('tutorial');
var ctx = canvas.getContext('2d');
```

## ç»˜åˆ¶æ¨¡æ¿

```html
<!DOCTYPE html>
<html>
  <head>
    <title>Canvas tutorial</title>
    <script type="text/javascript">
      function draw(){
        var canvas = document.getElementById('tutorial');
        if (canvas.getContext){
          var ctx = canvas.getContext('2d');
        }
      }
    </script>
    <style type="text/css">
      canvas { border: 1px solid black; }
    </style>
  </head>
  <body onload="draw();">
    <canvas id="tutorial" width="150" height="150"></canvas>
  </body>
</html>
```

## ç”¨æ³•

`canvas`æ”¯æŒç»˜åˆ¶çŸ©å½¢å’Œè·¯å¾„ã€‚

### ç»˜åˆ¶çŸ©å½¢

```js
fillRect(x,y,width,height);//å¡«å……çŸ©å½¢
strokeRect(x,y,width,height);//çŸ©å½¢è¾¹æ¡†
clearRect(x,y,width,height);//æ¸…é™¤çŸ©å½¢åŒºåŸŸï¼ˆé€æ˜ï¼‰
```

è¿™ä¸‰ä¸ªå‡½æ•°ç»˜åˆ¶åä¼šç«‹å³ç”Ÿæ•ˆï¼Œä¸åé¢çš„è·¯å¾„å‡½æ•°ï¼ˆPath functionï¼‰æœ‰æ‰€åŒºåˆ«ã€‚

### ç»˜åˆ¶è·¯å¾„

æ­¥éª¤ï¼š

1. åˆ›å»ºè·¯å¾„èµ·ç‚¹
2. ä½¿ç”¨ç”»å›¾å‘½ä»¤
3. å…³é—­è·¯å¾„
4. æè¾¹æˆ–å¡«å……è·¯å¾„

#### beginPath()

æ–°å»ºä¸€æ¡è·¯å¾„ï¼Œå°†å›¾å½¢ç»˜åˆ¶å‘½ä»¤æŒ‡å‘è¯¥è·¯å¾„ã€‚åœ¨ç»˜åˆ¶è·¯å¾„çš„æ—¶å€™ï¼Œä¼šæœ‰ä¸€ä¸ªè·¯å¾„åˆ—è¡¨è®°å½•å­è·¯å¾„ï¼Œå³ä¸€ä¸ª`beginPath()`ä¸‹çš„æ‰€æœ‰è·¯å¾„ã€‚è€Œå½“é‡æ–°å¼€å§‹ä¸€ä¸ª`beginPath()`æ—¶ï¼Œä¼šæ¸…ç©ºä¹‹å‰ä¿å­˜çš„è®°å½•ï¼Œæ— è®ºæ˜¯å¦`stroke()`æˆ–è€…`fill()`ã€‚

[ä½¿ç”¨Canvasç»˜åˆ¶å›¾å½¢](https://developer.mozilla.org/zh-CN/docs/Web/API/Canvas_API/Tutorial/Drawing_shapes)

***

#### closePath()

é—­åˆè·¯å¾„ï¼Œå°†å›¾å½¢ç»˜åˆ¶å‘½ä»¤é‡æ–°æŒ‡å‘ä¸Šä¸‹æ–‡ã€‚ä¸æ˜¯å¿…éœ€çš„ã€‚

è¯¥å‘½ä»¤ä¼šå°è¯•è¿æ¥å½“å‰ç‚¹å’Œèµ·å§‹ç‚¹ï¼Œä½¿å›¾å½¢é—­åˆï¼Œå¦‚æœå·²ç»æ˜¯é—­åˆå›¾å½¢æˆ–åªæœ‰ä¸€ä¸ªç‚¹åˆ™ä¸ä½œæ“ä½œã€‚ä½†æ˜¯è¯¥å‘½ä»¤ä¸ä¼šé‡å»ºä¸€æ¡æ–°è·¯å¾„ï¼Œå®ƒä¸`beginPath()`æ²¡æœ‰å…³ç³»ã€‚

å½“è°ƒç”¨`fill()`æ—¶ï¼Œæœªé—­åˆå½¢çŠ¶è‡ªåŠ¨é—­åˆï¼Œä½†æ˜¯`stroke()`ä¸ä¼šã€‚

[_canvasé‡Œçš„beginPathå’ŒclosePath_](https://blog.csdn.net/weixin_34124651/article/details/89009953?spm=1001.2101.3001.6650.2&utm_medium=distribute.pc_relevant.none-task-blog-2%7Edefault%7EOPENSEARCH%7Edefault-2.fixedcolumn&depth_1-utm_source=distribute.pc_relevant.none-task-blog-2%7Edefault%7EOPENSEARCH%7Edefault-2.fixedcolumn)&emsp;[_ç†è§£beginPathå’ŒclosePath_](https://blog.csdn.net/qq_33448537/article/details/61698180)

***

#### `stroke()`

é€šè¿‡çº¿æ¡ç»˜åˆ¶å›¾å½¢è½®å»“,å°†è·¯å¾„åˆ—è¡¨ä¸­çš„å­è·¯å¾„å…¨éƒ¨ç»˜å‡ºã€‚

#### `fill()`

é€šè¿‡å¡«å……è·¯å¾„å†…å®¹ç”Ÿæˆå®å¿ƒçš„å›¾å½¢ã€‚

#### `moveTo(x,y)`

ç§»åŠ¨ç”»ç¬”åˆ°æŒ‡å®šçš„xå’Œyåæ ‡ä¸Šï¼Œè®¾ç½®è·¯å¾„èµ·ç‚¹ã€‚

#### `lineTo(x,y)`

ç»˜åˆ¶ç›´çº¿ï¼Œä»å½“å‰ä½ç½®åˆ°xå’Œyåæ ‡ä¸Šã€‚

### ç»˜åˆ¶ä¸‰è§’å½¢

```js
  // å¡«å……ä¸‰è§’å½¢
  ctx.beginPath();
  ctx.moveTo(25, 25);
  ctx.lineTo(105, 25);
  ctx.lineTo(25, 105);
  ctx.fill();

  // æè¾¹ä¸‰è§’å½¢
  ctx.beginPath();
  ctx.moveTo(125, 125);
  ctx.lineTo(125, 45);
  ctx.lineTo(45, 125);
  ctx.closePath();
  ctx.stroke();
```

### åœ†å¼§



***
[ä¸Šä¸€ç« ï¼š00.å¼€å§‹ä¹‹å‰](./01.å¼€å§‹ä¹‹å‰.md)  

[ä¸‹ä¸€ç« ï¼š01.ç¯å¢ƒé…ç½®](./01.ç¯å¢ƒé…ç½®.md)  

[è¿”å›ç›®å½•](./index.md)